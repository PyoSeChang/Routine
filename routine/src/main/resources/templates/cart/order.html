<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <header style="
    width: 100%;
    color: white;
    padding: 12px 24px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background-color: #724019;
    background-image: url('https://www.transparenttextures.com/patterns/dark-wood.png');
    background-repeat: repeat;
">
        <div style="
        max-width: 96rem;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
    ">
            <h1 style="font-size: 32px; font-weight: bold;">
                <a href="http://localhost:3000/" style="color: white; text-decoration: none;">Routine</a>
            </h1>
            <nav style="display: inline-block;">
                <span>|</span>
                <a href="http://localhost:8080/product/list" target="_blank" rel="noopener noreferrer" style="color: white; text-decoration: none; margin: 0 8px;">Shop</a>
                <span>|</span>
                <a href="http://localhost:3000/boards" style="color: white; text-decoration: none; margin: 0 8px;">Community</a>
                <span>|</span>
                <a href="http://localhost:3000/circles" style="color: white; text-decoration: none; margin: 0 8px;">Circle</a>
                <span>|</span>
                <a href="http://localhost:3000/routine" style="color: white; text-decoration: none; margin: 0 8px;">My Routines</a>
                <span>|</span>
                <a href="http://localhost:3000/login" style="color: white; text-decoration: none; margin: 0 8px;">Login</a>
                <span>|</span>
            </nav>
        </div>
    </header>

    <title>ì£¼ë¬¸ ëª©ë¡ - ì½”ë¥´í¬ í¬ìŠ¤íŠ¸ì‡ ìŠ¤íƒ€ì¼</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- ìŠ¤íƒ€ì¼ -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-image: url('/images/abc.jpg'); /* ì½”ë¥´í¬ ë°°ê²½ ì´ë¯¸ì§€ ê²½ë¡œ */
            background-size: cover;
            background-attachment: fixed;
            padding: 40px 20px;
        }

        .order-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            margin-bottom: 40px;
        }

        .postit-table {
            background-color: #fffbe6;
            border-radius: 16px;
            box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        .table thead th {
            background-color: #ffe066;
            font-size: 1.2rem;
            text-align: center;
            color: #444;
        }

        .table tbody td {
            text-align: center;
            vertical-align: middle;
            background-color: #fffef6;
        }

        .table-striped tbody tr:nth-child(odd) td {
            background-color: #fffad1; /* ë…¸ë€ í¬ìŠ¤íŠ¸ì‡ */
        }

        .table-striped tbody tr:nth-child(even) td {
            background-color: #fef2f4; /* ë¶„í™ í¬ìŠ¤íŠ¸ì‡ */
        }

        .status-ready {
            color: #1c7ed6;
            font-weight: bold;
        }

        .status-shipping {
            color: #f59f00;
            font-weight: bold;
        }

        .status-complete {
            color: #2f9e44;
            font-weight: bold;
        }

        .empty-orders {
            margin-top: 120px;
            text-align: center;
            color: white;
            font-size: 1.8rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
        }
    </style>
</head>

<body>

<div class="container">
    <!-- í™˜ì˜ ì¸ì‚¬ -->
    <h1 class="order-title" th:text="'í™˜ì˜í•©ë‹ˆë‹¤, ' + ${#authentication.principal.getMember().getNickname} + 'ë‹˜!'">í™˜ì˜í•©ë‹ˆë‹¤!</h1>

    <!-- ì£¼ë¬¸ì´ ì—†ì„ ê²½ìš° -->
    <div th:if="${#lists.isEmpty(orders)}" class="empty-orders">
        <h2>ğŸ›’ ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</h2>
        <p>ì§€ê¸ˆ ë°”ë¡œ ì‡¼í•‘ì„ ì‹œì‘í•´ë³´ì„¸ìš”!</p>
    </div>

    <!-- ì£¼ë¬¸ì´ ìˆì„ ê²½ìš° -->
    <div th:unless="${#lists.isEmpty(orders)}" class="table-responsive postit-table">
        <table class="table table-striped table-bordered align-middle">
            <thead>
            <tr>
                <th>ìƒí’ˆëª…</th>
                <th>ê°€ê²©</th>
                <th>ìˆ˜ëŸ‰</th>
                <th>êµ¬ë§¤ ì¼ì‹œ</th>
                <th>ë°°ì†¡ í˜„í™©</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="order : ${orders}">
                <td th:text="${order.productTitle}">ìƒí’ˆëª…</td>
                <td th:text="${#numbers.formatInteger(order.price, 1, 'COMMA')} + 'ì›'">ê°€ê²©</td>
                <td th:text="${order.quantity}">ìˆ˜ëŸ‰</td>
                <td th:text="${#temporals.format(order.purchasedAt, 'yyyy-MM-dd HH:mm')}">êµ¬ë§¤ì¼ì‹œ</td>
                <td>
                    <span th:if="${order.deliveryStatus == 'ë°°ì†¡ ì¤€ë¹„ì¤‘'}" class="status-ready" th:text="${order.deliveryStatus}">ë°°ì†¡ ì¤€ë¹„ì¤‘</span>
                    <span th:if="${order.deliveryStatus == 'ë°°ì†¡ ì¤‘'}" class="status-shipping" th:text="${order.deliveryStatus}">ë°°ì†¡ ì¤‘</span>
                    <span th:if="${order.deliveryStatus == 'ë°°ì†¡ ì™„ë£Œ'}" class="status-complete" th:text="${order.deliveryStatus}">ë°°ì†¡ ì™„ë£Œ</span>
                    <span th:if="${order.deliveryStatus != 'ë°°ì†¡ ì¤€ë¹„ì¤‘' and order.deliveryStatus != 'ë°°ì†¡ ì¤‘' and order.deliveryStatus != 'ë°°ì†¡ ì™„ë£Œ'}" th:text="${order.deliveryStatus}">ê¸°íƒ€</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
